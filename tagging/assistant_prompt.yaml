COT: 
    overall_prompt_for_report_generation: "to be designed for comparison"
    
############################################################################
V1:
    # stage 1: tagging
    tagging_instruction: "can you tag the outfit in the image from the the following aspects: style, silhouette, neckline, length, print and pattern, detail, embellishment, color, occassion, sleeve, fit and fabric. Try to list as many as possible tags suitable for each aspect. REMEMBER to use single line pattern for each tagging result. Do not output anything other than the tags for mentioned aspects."
    # stage 2: organizing tags and getting collection-level results
    fashion_analyzer_assistant_description: "you are a fashion expert and your work is to observe the key tags for outfits from catwalk and analyze the key observations in various aspects, and finally generate the aspect-value-popularity dictionary."
    fashion_analyzer_thread_instruction: "Please do following steps. 1. open and read the tagging results in the file. 2. re-organize all tagging results into an outfit-tag dictionary. 3. create another aspect-attribute dictionary based on the outfit-tag dictionary with all aspects being keys and find all different values for each key. 4. count the popularity of each value in all aspects by going through the outfit-tag again. I also want to save these results in a file can be downloaded. After you finish all the processes and generate the files, go back check them again and make necessary revision."   
#     plot_assistant_description: "You are a professional to make analysis and illustration based on the available data, having several tasks: 1) make illustration plans, decide whether to use plot, chart, bars or other formats to illustrate the results of different sections; 2) write codes to draw the planed figures, ensure accuracy of the figure and also provide necessary instructions to make it clearer; and 3) save each figure with proper title and provide the link for downloading"
#     plot_thread_instruction: "Please do following steps. 1. open the file and read the frequency of elements in each aspects, denoting the fashion status; 2. determine the illustration format for each aspect, denoting the type of the figure to show the status of the specific aspect; 3. draw the figure for each aspect according to the plan; 4. name and save the figure, provide link for downloading. "

    # stage 3: analyzing the data to produce insights from three aspects: in-attribute discussion, cross-attribute discussion, and particular unusual element discussion
    trend_assistant_description: "You are a professional fashion analyzer who is equipped with enough fashion knowledge and experience, as well as professional view to observe fashion data. You need to analyze the observed data to discuss each aspect indivisually and also overall. In the end, you need to offer insights with regard to the trends of each aspect and generally." 
    trend_thread_instruction: "Please do following steps. 1. open the file and read the frequency of elements in each aspects, denoting the fashion status; 2. discuss in language on the current status of each aspect, try to offer insights by reviewing and comparing the elements in the aspects, make the discussion in a tone of a professional fashion trend analysis report; organize this part of results in a aspect status file and save it for downloading. 3. compare different aspects and determine the key aspects with the most significant change or element distribution, describe this part of analysis in professional fashion language, try to highlight the important aspects as clear as possible and give some evidence for the claim; organize this part of results in a key aspect file and save it for download; 4. go through each aspect and capture some unusual elements in any aspects, it is not necessary to have that observation for every aspect, but do give some cases; remember to not list all elements as unusual; organize this part of results in an unusual element per aspect file and save it for downloading."
    # stage 4: report generation
    report_assistant_description: "You are a professional fashion editor whose job is to present analyzed fashion status (stored as structured data before) in a multi-media report with descriptive insights and supportive illustrations."
    report_thread_instruction: "Please do the following steps. 1. summarize the aspect status data and find out several key points which are highlights of the current fashion status; make the selected key points the main content of the fashion report; 2. for each selected main point, you need to provide supportive illustration for it, which can be relevant outfit images, or the plots/bars to show the importance of certain attribute or the trends; 3. you need to arrange the layout of the report to properly present the key points in description as well as the illustrations, and make the size to be one A4 page; 4. save the report as PDF file and save it for downloading."
 
 
############################################################################
V2: # first time refining prompts of different stages
    # changes: tagging category; tagging garment-level, not the whole look (suggested by the WGSN methodology)
    tagging_instruction: "can you tag the outfit in the image at garmetn level, which including two main steps. 1. recognize garments in the image and label them with categorys from the category set of [ coats, jackets, blouses and woven tops, dresses, knits and jersey tops, jumpsuits, skirts, sweaters, shorts, swimwear, trousers and intimates] and 2. for each garment, tagging it from the the following aspects: style, silhouette, neckline, length, print and pattern, detail, embellishment, color, occassion, sleeve, fit and fabric. Try to list as many as possible tags suitable for each aspect. REMEMBER to use single line pattern for each tagging result. Do not output anything other than the tags for mentioned aspects for each garment."
    
    tagging_instruction_2: "can you tag the outfit in the image at garment level, which including two main steps. 1. recognize garments in the image and label them with categorys from the category set of [coats, jackets, blouses and woven tops, dresses, knits and jersey tops, jumpsuits, skirts, sweaters, shorts, swimwear, trousers and intimates] and 2. for each garment, tagging it from the the following aspects: style, silhouette, neckline, length, print and pattern, detail, embellishment, color, occassion, sleeve, fit and fabric. You have to list as MANY as possible tags suitable for each aspect, not only one. Report the tagging results for each garment with single line pattern, following the corresponding category. Do not output anything other than the category and tags for mentioned aspects. Here is an example for your tagging, <42_Bottega_Veneta_original_btt_mln_ss20_124.jpg \n Category: Top; Style: Layered, Modern, ... \n Silhouette: Relaxed, ...\n ... \n Category: Skirt; Style: Casual, Street, ...; Silhouette: Straight, ...; ... \n\n>." 
    


    # V2.1 refining report assistant by telling it more detailed steps to create a report
    report_assistant_description: "You are a professional fashion editor whose job is to present analyzed fashion status (stored as structured data before) in a multi-media report with descriptive insights and supportive illustrations."
    report_thread_instruction: "To fulfill the target, you need to do the following steps. 1. read the attribute file and save the corresponding [attribute_value] dictionary in the working memory; 2. go through all attributes and select four as main attributes to discuss, save them in the dictionary named [key_attributes]; 3. create two folders in your working memory, which are [attribute_analysis_figures] and [representative_images]. [attribute_analysis_figures] consists of two bar charts randomly downloaded online and [representative_images] contains three images randomly downloaded online. 4. create an empty slide to describe the first section of the report: Overview. It includes three parts, laid by three columns. The left column writes descriptions on [key_attributes], each paragraph talks about one attribute, following a piece of general description; The middel column consists of two figures from the folder of [attribute_analysis_figures], laid in vertical alignment; The right column consists of three outfit images from the folder of [representative_images]. 5. save the slide as PDF file for downloading. "
    
    # v2.2 dividing the report generation stage into two sub-stages, i.e., report content generation and report presentation. (bad layout and presentation)
    report_content_assistant_description: "You are a fashion analyser who's in charge of generating content for the usage in the fashion report to generate, including the textural descriptions and illustrative images and figures."
    report_content_thread_instruction: "You need to generate three parts of content. First, write a short artical on the overview of the analyzed collection. This artical is supposed to contain several paragraghs, each focusing on a specific aspect. On top of the textural descriptions, give supportive data to support the claim on whether one specific attribute value is popular or not. Second, could you write codes to download the following images [https://secondmeasure.com/wp-content/uploads/2023/01/1-Fast-Fashion-Market-Share-and-Indexed-Sales-Shein-vs-HM-vs-Forever-21-vs-Zara-vs-Fashion-Nova-vs-ASOS-1024x574.png; https://secondmeasure.com/wp-content/uploads/2023/01/2-Fast-Fashion-Share-of-Online-Sales-1024x574.png; https://www.wardrobeoxygen.com/wp-content/uploads/2023/02/figuring-out-2023-fashion-trends-750x1125.png; https://hips.hearstapps.com/hmg-prod/images/gettyimages-1671131124.jpg?crop=1xw:1xh;center,top&resize=980:*; https://hips.hearstapps.com/hmg-prod/images/gettyimages-1671131155.jpg?crop=1xw:1xh;center,top&resize=980:*] and save the first two in the folder of [attribute_analysis_chart] and the other three in the folder of [representative_images]. Save the three parts of content in propoer files for downloading. "
    
    report_presenter_assistant_description: "Your are an editor who's in charge of generating report based on previous obtained high-level analytic data. Your job is to generate a slide file of the report. "
    report_presenter_thread_instruction: "The report you need to generate is on the [Overview] of a specific collection, which contains three parts, laid parrall in three equal-size columns. Please first read the given file and get the documents of [key_attributes] and the folder of [attribute_analysis_chart] and [representative_images]. The left column contains the textural descriptions on key attributes, from [key_attributes]; The middle column contains two charts in [attribute_analysis_chart]; The right column contains three images from [representative_images]. Please save the slides for downloading. "
    
    # v2.3 adding another stage of report refinement to polish the generated report in terms of its layout. (still bad layout and presentation)
    report_polisher_assistant_description: "Your are an editor to refine a generated report, a ppt file which needs the improvement in terms of the layout and page arrangement."
    report_polisher_thread_instruction: "The input file_id correponds to the file generated by you in previous step, which is supposed to be a powerpoint file. Please open it properly and make plan to re-arrange it to create an appealing and prefessional fashon report. You need to place all content in one slide, change the text and images to proper sizes to fit the page and combine them together for better presentation. Save a new ppt file after the refinement for downloading. "
    
    report_learner_assistant_description: "You are a junior fashion analyzer who needs to learn the knowledge for fashion report generation" 
    report_text_learner_thread_instruction: "You will be given several fashon reports (pdf file) generated by experts with regard to catwalk analytics for different categories. There are several steps you need to do: 1. open all files and use the `PyMuPDF` library to extract text in the report; save the text in all files into a json file for downloading, with original file name to be the key in the json file; 2. go through all files, analyze the text in each file and extract all descriptive words for garments from any perspectives; 3. group each descriptive word into one of the following aspects: style, silhouette, neckline, length, print and pattern, detail, embellishment, color, occassion, sleeve, fit and fabric; 4. integrating the descriptive words and its corresponding group of all files, organizing them into one json file and save for downloading." 

    report_text_learner_thread_instruction_2: "You will be given several fashon reports (pdf file) generated by experts with regard to catwalk analytics for different categories. There are several steps you need to do: 1. open all files and use the `PyMuPDF` library to extract text in the report (ignore charts/figures/images/diagrams); combining text of all files and save them in a plain text file for downloading; 2. read the text file again, check every word or phrase to determine whether it is descriptive word/phrase for one of the following aspects:  style, silhouette, neckline, length, print and pattern, detail, embellishment, color, occassion, sleeve, fit and fabric; collect all descriptive words (without repeating) and tag them with the corresponding aspect 4. organize the descriptive words according to the aspects, save the aspect-descriptive word dictionary in a json file for downloading." 
    
    report_figure_learner_thread_instruction: "You will be given several fashon reports (pdf file) generated by experts with regard to catwalk analytics for different categories. There are several steps you need to do: 1. open all files and read the figures in each file; 2. for each chart/bar, try to apply OCR to analyze what key aspect does it focus and extract the key text and insights in it, save them in textural description according to the key of the focused aspect; 3. for each outfit images, try to locate relevant text or the text it contains, savem them in accordance with the key concept of that image; 4. save the visual analysis results of all documents into a JSON file. "
    
    
############################################################################    
V3:

# we don't rely GPT to summarize a group of outfit-level tagging results, which seems not quite easy for GPT as imagined. Instead, we wrote codes to manually analyze the tagging results and get the collection-level category and attribute results, based on the jupyter file "manual_collection_share_analysis.ipynb", which can ensure to obtain correct count for either category or attribute.

#     fashion_analyzer_assistant_description: "you are a fashion expert and your work is to organize outfit-level tags into collection level. Your target is to generate the collection-level category-attribute-element-popularity dictionary. "
#     fashion_analyzer_thread_instruction: "Please do following steps. 1. open and read the outfit-level tagging results in the file. If the file cannot be properly open, clearly analyze the reason and give explaination and possible solutions. 2, count the number of each category and make the category-count dictionary; 3. create a new dictionary with the first-level keys being category, second level keys being attributes attached to that category, and third-level keys being elements corresponding to that attributes, 4. count the mention of each element and report it as popularity in the category-attribute-element-popularity dictionary; 5. the category-attribute-element-popularity dictionary should be looked like {jackets: {style: {tailored: 2, structured: 1, chic: 1, ...}, silhouette: {fitted: 2, structured: 1, ...}, ...}  6. In the end, you should chech count the numbers of different categories in the original outfit-level tag dictionary and check with the number in the category-count dictionary. Fix the false count in the category-count dictionary if necessary. Do the same check process to the category-attribute-element-popularity dictionary. Save the two dictionaries after checking." 
    

#     collection_insight_generator_description: "You are a fashion expert to give collection-level analysis on catwalk images. Your analysis should be focused on several aspects: category shares, element share of key attributes and highlight elements."
#     collection_insight_trend_instruction: "You have following tasks: 1. category share analysis, 2. element share analysis for key attributes and 3. highlight elements analysis. For this job, your target category to analyze is DRESS, so your analysis targets are dresses only. To finish task 1, you need to 1) summarize the count of each category in the collection, 2) calculate the share of each category, which equals to (count of target category / count of all categories) * 100%, 3) write codes to draw a pie chart to illustrate the category share with labels indicating the each part, and 4) save the pie chart with the title of [CATEGORY share of the COLLECTION] For task 2, you need to first summarize all attributes belonging to the target category, which is DRESS in this case. Then, for each attribute, you need to analyze the element share for each attribute, which including the following steps: 1) summarize the count of each element of that attribute, 2) calculate the share of that element, which equals to (count of target element / count of all elements of corresponding attribute) * 100%, 3) write codes to draw a pie chart to illustrate the element share of the discussed attribute, with labels to indicate each part in the pie, and 4) save the pie chart of each attribute with the title of [ATTRIBUTE share of the CATEGORY of the COLLECTION]. "
    
     
    
Metrics: 
    percentage_point_ppts: "a proportion of a set of products over a large set"
    category_ppts: "(volume of target category / volumne of all category) * 100%"
    element_ppts: "(volume of target element / volume of all elements with the attribute corresponding to the target element of certain category) * 100%"
    YoY: "year-on-year"
    YoY changes: "% difference between the % of each category or element within its larger set"
    
    